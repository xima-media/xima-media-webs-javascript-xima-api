/*
 xima media GmbH

 @version 1.6.0
 @depends
  JavaScript 1.4
  jQuery 1.4.1
  google.maps 3.9
  OverlappingMarkerSpiderfier
  twbs bootstrap: tab.js v3.1.1
*/
var xima={api:{twitter:{bootstrap:function(){var b=null;this.initTabs=function(k,g){var c="";if(!k)return console.log("Es wurde kein Standard-Anchor festgelegt!"),!1;g=g||"";var f=document.URL.split("?")[1];if(f&&(f=f.split("#")[0])){var d,h=f.split("&");for(d in h)f=h[d].split("="),"tab"===f[0]&&(c=f[1])}c=jQuery(g+' a[href="#'+(""===c?k:c)+'"][data-toggle="tab"]');c.get(0)||(c=jQuery(g+' a[href="#'+k+'"][data-toggle="tab"]'));jQuery(g+' a[data-toggle="tab"]').on("shown.bs.tab",function(d){b=jQuery(d.target).attr("href").split("#")[1]});
if("function"===typeof c.tab)return c.tab("show"),b=c.attr("href").split("#")[1],!0;console.log('Die Funktion "tab" ist nicht definiert! Wurde tab.js (Twitter Bootstrap JS-PlugIn) eingef\u00fcgt?');return!1};this.__defineGetter__("selectedTabId",function(){return b});this.__defineSetter__("selectedTabId",function(k){b=k})}},googlemaps:function(){var b=null,k=null,g=null,c=!1,f=[],d=[],h=[],m={},e={},q={backgroundColor:"String",center:"google.maps.LatLng",disableDefaultUI:"Boolean",disableDoubleClickZoom:"Boolean",
draggable:"Boolean",draggableCursor:"String",draggingCursor:"String",heading:"Number",keyboardShortcuts:"Boolean",mapMaker:"Boolean",mapTypeControl:"Boolean",mapTypeControlOptions:"google.maps.MapTypeControlOptions",mapTypeId:"google.maps.MapTypeId",maxZoom:"Number",minZoom:"Number",noClear:"Boolean",overviewMapControl:"Boolean",overviewMapControlOptions:"google.maps.OverviewMapControlOptions",panControl:"Boolean",panControlOptions:"google.maps.PanControlOptions",rotateControl:"Boolean",rotateControlOptions:"google.maps.RotateControlOptions",
scaleControl:"Boolean",scaleControlOptions:"google.maps.ScaleControlOptions",scrollwheel:"Boolean",streetView:"google.maps.StreetViewPanorama",streetViewControl:"Boolean",streetViewControlOptions:"google.maps.StreetViewControlOptions",styles:"google.maps.MapTypeStyle",tilt:"Number",zoom:"Number",zoomControl:"Boolean",zoomControlOptions:"google.maps.ZoomControlOptions"},p={center:new google.maps.LatLng(51.06966,13.778158),zoom:8},r={keepSpiderfied:!0};this.initGoogleMaps=function(a,d){if(!0===c)return this;
if(!k)return console.log("Es wird ein Map-Canvas ben\u00f6tigt!"),this;c=!0;b=new google.maps.Map(k,p);this.applyMapData(a,d);for(var e in m)m.hasOwnProperty(e)&&m[e].setMap(b);return this};this.applyMapData=function(a,c){if(!b)return console.log("Fehlende GoogleMaps Instanz!"),this;if(jQuery.isEmptyObject(e)||!e.points)return console.log("Dem MapData-Object fehlen die ben\u00f6tigten Eigenschaften!"),this;a="boolean"!==typeof a?!0:a;c="boolean"!==typeof c?!0:c;if(a)var f=new google.maps.LatLngBounds;
var k=!jQuery.isEmptyObject(e)&&e.points?Object.keys(e.points).length:0,l,g,h;c&&this.createOverlappingMarkerSpiderfier();for(var n=0;n<k;n++)l=parseFloat(e.points[n].lat),g=parseFloat(e.points[n].lng),isNaN(l)||isNaN(g)||(g=new google.maps.LatLng(l,g),l=e.points[n].title?e.points[n].title:"",h=e.points[n].icon?e.points[n].icon:null,this.addMarker(g,l,h),l=d.length-1,a&&f.extend(d[l].position),d[l].setMap(b));if(a&&0<d.length){b.fitBounds(f);var m=google.maps.event.addListener(b,"zoom_changed",function(){b.getZoom()>
p.zoom&&b.setZoom(p.zoom);google.maps.event.removeListener(m)})}};this.closeInfoWindows=function(){0<f.length&&(f[0].set("marker",null),f[0].close(),f.length=0)};this.setMapOptions=function(a){a&&xima.api.functions.convertDataType(a,q)&&(p=a);return this};this.addMapOptions=function(a){a&&xima.api.functions.convertDataType(a,q)&&jQuery.extend(p,a);return this};this.getMapOptions=function(){return p};this.setMapData=function(a,b){try{e=1==b?jQuery.parseJSON(a):jQuery.parseJSON(jQuery(a).val())}catch(d){console.log("Die angegebene Variable ist keine JSON!")}jQuery.isEmptyObject(e)||
!e.points?console.log("Dem MapData-Object fehlen die ben\u00f6tigten Eigenschaften!"):e.mapOptions&&this.addMapOptions(e.mapOptions);return this};this.setMapCanvas=function(a){k=jQuery(a).get(0);return this};this.addLayers=function(a){if("object"===typeof a)for(var b in a)m[b]=new google.maps.KmlLayer({url:a[b],preserveViewport:!0});return this};this.removeLayer=function(a){a&&m.key&&delete m.key;return this};this.addMarker=function(a,c,k,h){if(!b)return console.log("Fehlende GoogleMaps Instanz!"),
this;var l=this;d.push(new google.maps.Marker({position:a,title:c,icon:k,map:b}));j=d.length-1;g&&g.addMarker(d[j]);!1!==h&&(h=h?h:e.points[j].windowContent,google.maps.event.addListener(d[j],"click",function(a){return function(){l.closeInfoWindows();var c=new google.maps.InfoWindow({content:h});c.open(b,d[a]);f[0]=c}}(j)));return this};this.setAllMarkersMap=function(a){for(var b=d.length-1;0<=b;b--)d[b].setMap(a);return this};this.clearMarkers=function(){this.setAllMarkersMap(null);return this};
this.deleteMarkers=function(){this.clearMarkers();d=[];return this};this.showMarkers=function(){b&&this.setAllMarkersMap(b);return this};this.createOverlappingMarkerSpiderfier=function(){b&&(g=new OverlappingMarkerSpiderfier(b,r));return this};this.getOMSOptions=function(){return r};this.drawPolyline=function(a,c,d){var f=[];c&&(e.routes[a]=jQuery.parseJSON(c));c=jQuery.isEmptyObject(e)||jQuery.isEmptyObject(e.routes)||!e.routes[a]?0:Object.keys(e.routes[a]).length;for(var g=0;g<c;g++)e.routes[a][g].lat&&
e.routes[a][g].lng&&f.push(new google.maps.LatLng(parseFloat(e.routes[a][g].lat),parseFloat(e.routes[a][g].lng)));f={path:f,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2};d&&jQuery.extend(f,d);h[a]=new google.maps.Polyline(f);b&&h[a].setMap(b);return this}},functions:{convertDataType:function(b,k){if(!k||"object"!==typeof b)return!1;var g=!0,c;for(c in b)if(k[c]){var f=k[c].split("."),d;d=window[f[0]];for(var h=1;h<f.length;h++)d=d[f[h]];if(!(b[c]instanceof d||typeof b[c]===d)&&typeof b[c]!==
d)try{b[c]=d(b[c])}catch(m){try{b[c]=new d}catch(e){console.log("Cannot convert "+b[c]+" to "+d),g=!1}}}return g}}}};