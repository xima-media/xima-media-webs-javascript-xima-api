var XIMA={api:{}};window.initOverlappingMarkerSpiderfier=function(){var g=!0,f=null,m=!1;(function(){var e,l={}.hasOwnProperty,r=[].slice;((e=this.google)!=f?e.maps:void 0)!=f&&(this.OverlappingMarkerSpiderfier=function(){function e(e,t){var i,n,a,o,r=this;for(i in this.map=e,t==f&&(t={}),t)l.call(t,i)&&(n=t[i],this[i]=n);for(this.e=new this.constructor.g(this.map),this.n(),this.b={},n=0,a=(o=["click","zoom_changed","maptypeid_changed"]).length;n<a;n++)i=o[n],h.addListener(this.map,i,function(){return r.unspiderfy()})}var h,d,t,i,n,a,s,o;for(i=0,n=(o=[e,a=e.prototype]).length;i<n;i++)(t=o[i]).VERSION="0.3.3";return d=google.maps,h=d.event,n=d.MapTypeId,s=2*Math.PI,a.keepSpiderfied=m,a.markersWontHide=m,a.markersWontMove=m,a.nearbyDistance=20,a.circleSpiralSwitchover=9,a.circleFootSeparation=23,a.circleStartAngle=s/12,a.spiralFootSeparation=26,a.spiralLengthStart=11,a.spiralLengthFactor=4,a.spiderfiedZIndex=1e3,a.usualLegZIndex=10,a.highlightedLegZIndex=20,a.legWeight=1.5,a.legColors={usual:{},highlighted:{}},i=a.legColors.usual,t=a.legColors.highlighted,i[n.HYBRID]=i[n.SATELLITE]="#fff",t[n.HYBRID]=t[n.SATELLITE]="#f00",i[n.TERRAIN]=i[n.ROADMAP]="#444",t[n.TERRAIN]=t[n.ROADMAP]="#f00",a.n=function(){this.a=[],this.j=[]},a.addMarker=function(t){var e,i=this;return t._oms!=f||(t._oms=g,e=[h.addListener(t,"click",function(e){return i.F(t,e)})],this.markersWontHide||e.push(h.addListener(t,"visible_changed",function(){return i.o(t,m)})),this.markersWontMove||e.push(h.addListener(t,"position_changed",function(){return i.o(t,g)})),this.j.push(e),this.a.push(t)),this},a.o=function(e,t){if(e._omsData!=f&&(t||!e.getVisible())&&this.s==f&&this.t==f)return this.unspiderfy(t?e:f)},a.getMarkers=function(){return this.a.slice(0)},a.removeMarker=function(e){var t,i,n,a,o;if(e._omsData!=f&&this.unspiderfy(),(t=this.m(this.a,e))<0)return this;for(a=0,o=(n=this.j.splice(t,1)[0]).length;a<o;a++)i=n[a],h.removeListener(i);return delete e._oms,this.a.splice(t,1),this},a.clearMarkers=function(){var e,t,i,n,a,o,r,s;for(this.unspiderfy(),e=n=0,o=(s=this.a).length;n<o;e=++n){for(i=s[e],a=0,r=(t=this.j[e]).length;a<r;a++)e=t[a],h.removeListener(e);delete i._oms}return this.n(),this},a.addListener=function(e,t){var i,n;return((n=(i=this.b)[e])!=f?n:i[e]=[]).push(t),this},a.removeListener=function(e,t){var i;return(i=this.m(this.b[e],t))<0||this.b[e].splice(i,1),this},a.clearListeners=function(e){return this.b[e]=[],this},a.trigger=function(){var e,t,i,n,a,o;for(t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],o=[],n=0,a=(t=(i=this.b[t])!=f?i:[]).length;n<a;n++)i=t[n],o.push(i.apply(f,e));return o},a.u=function(e,t){var i,n,a,o,r;for(a=this.circleFootSeparation*(2+e)/s,n=s/e,r=[],i=o=0;0<=e?o<e:e<o;i=0<=e?++o:--o)i=this.circleStartAngle+i*n,r.push(new d.Point(t.x+a*Math.cos(i),t.y+a*Math.sin(i)));return r},a.v=function(e,t){var i,n,a,o,r;for(a=this.spiralLengthStart,r=[],n=o=i=0;0<=e?o<e:e<o;n=0<=e?++o:--o)i+=this.spiralFootSeparation/a+5e-4*n,n=new d.Point(t.x+a*Math.cos(i),t.y+a*Math.sin(i)),a+=s*this.spiralLengthFactor/i,r.push(n);return r},a.F=function(e,t){var i,n,a,o,r,s,l,c,u;if((!(o=e._omsData!=f)||!this.keepSpiderfied)&&this.unspiderfy(),o||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,t);for(o=[],r=[],s=(i=this.nearbyDistance)*i,a=this.c(e.position),l=0,c=(u=this.a).length;l<c;l++)(i=u[l]).map!=f&&i.getVisible()&&(n=this.c(i.position),this.f(n,a)<s?o.push({A:i,p:n}):r.push(i));return 1===o.length?this.trigger("click",e,t):this.G(o,r)},a.markersNearMarker=function(e,t){var i,n,a,o,r,s,l,c,u,p;if(t==f&&(t=m),this.e.getProjection()==f)throw"Must wait for 'idle' event on map before calling markersNearMarker";for(r=(i=this.nearbyDistance)*i,a=this.c(e.position),o=[],s=0,l=(c=this.a).length;s<l&&!((i=c[s])!==e&&i.map!=f&&i.getVisible()&&(n=this.c((u=(p=i._omsData)!=f?p.l:void 0)!=f?u:i.position),this.f(n,a)<r&&(o.push(i),t)));s++);return o},a.markersNearAnyOtherMarker=function(){var e,t,i,n,a,o,r,s,l,c,u,p;if(this.e.getProjection()==f)throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(e=(o=this.nearbyDistance)*o,o=[],u=0,i=(n=this.a).length;u<i;u++)t=n[u],o.push({q:this.c((r=(l=t._omsData)!=f?l.l:void 0)!=f?r:t.position),d:m});for(t=r=0,l=(u=this.a).length;r<l;t=++r)if((i=u[t]).map!=f&&i.getVisible()&&!(n=o[t]).d)for(i=s=0,c=(p=this.a).length;s<c;i=++s)if(a=p[i],i!==t&&a.map!=f&&a.getVisible()&&(a=o[i],(!(i<t)||a.d)&&this.f(n.q,a.q)<e)){n.d=a.d=g;break}for(i=[],e=r=0,l=(u=this.a).length;r<l;e=++r)t=u[e],o[e].d&&i.push(t);return i},a.z=function(e){var t=this;return{h:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})},k:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}},a.G=function(a,e){var t,o,r,s,l,c,u,n,p,i;return this.s=g,i=a.length,t=this.C(function(){var e,t,i;for(i=[],e=0,t=a.length;e<t;e++)n=a[e],i.push(n.p);return i}()),s=i>=this.circleSpiralSwitchover?this.v(i,t).reverse():this.u(i,t),t=function(){var e,t,i,n=this;for(i=[],e=0,t=s.length;e<t;e++)r=s[e],o=this.D(r),p=this.B(a,function(e){return n.f(e.p,r)}),u=p.A,c=new d.Polyline({map:this.map,path:[u.position,o],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),u._omsData={l:u.position,i:c},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.z(u),u._omsData.w={h:h.addListener(u,"mouseover",l.h),k:h.addListener(u,"mouseout",l.k)}),u.setPosition(o),u.setZIndex(Math.round(this.spiderfiedZIndex+r.y)),i.push(u);return i}.call(this),delete this.s,this.r=g,this.trigger("spiderfy",t,e)},a.unspiderfy=function(e){var t,i,n,a,o,r,s;if(e==f&&(e=f),this.r==f)return this;for(this.t=g,a=[],n=[],o=0,r=(s=this.a).length;o<r;o++)(i=s[o])._omsData!=f?(i._omsData.i.setMap(f),i!==e&&i.setPosition(i._omsData.l),i.setZIndex(f),(t=i._omsData.w)!=f&&(h.removeListener(t.h),h.removeListener(t.k)),delete i._omsData,a.push(i)):n.push(i);return delete this.t,delete this.r,this.trigger("unspiderfy",a,n),this},a.f=function(e,t){var i,n;return(i=e.x-t.x)*i+(n=e.y-t.y)*n},a.C=function(e){var t,i,n,a,o;for(a=i=n=0,o=e.length;a<o;a++)i+=(t=e[a]).x,n+=t.y;return e=e.length,new d.Point(i/e,n/e)},a.c=function(e){return this.e.getProjection().fromLatLngToDivPixel(e)},a.D=function(e){return this.e.getProjection().fromDivPixelToLatLng(e)},a.B=function(e,t){var i,n,a,o,r,s;for(a=r=0,s=e.length;r<s;a=++r)o=t(o=e[a]),(void 0===i||i===f||o<n)&&(n=o,i=a);return e.splice(i,1)[0]},a.m=function(e,t){var i,n,a;if(e.indexOf!=f)return e.indexOf(t);for(i=n=0,a=e.length;n<a;i=++n)if(e[i]===t)return i;return-1},(e.g=function(e){return this.setMap(e)}).prototype=new d.OverlayView,e.g.prototype.draw=function(){},e}())}).call(this)},XIMA.api.dsgvo=function(e,o,s,t){var l={},i=this,n="XIMA.api.dsgvo",a=!1,c={debug:!1,scriptUrl:null,scriptUrlSelector:".map-script-url",mapStorageIdentifier:"ximaMapState",useGlobal:!1,useCookie:!1,useTouchHandling:!1,cookieLifetime:0,useCanvasHint:!0,activationElement:null,switchElement:null,canvasElements:[],callback:function(){},onSwitch:function(e){},onActivate:function(){},canvasHint:{msg:"Karten sind standardmäßig deaktiviert. Klicken Sie hier, um den Datenschutzbestimmungen zuzustimmen und die Karte anzeigen zu lassen.",style:{disableStyles:!1,background:"rgba(0,0,0,0.5)",textColor:"#dddddd",textSize:"12px",hintStyle:"position: absolute; width: 250px; height: 250px; top: 50%; left: 50%; margin-top: -125px; margin-left: -125px; text-align: center; padding: 10px;",hintBodyStyle:"margin-top: 10px;",disableIcon:!1,iconSize:"100px",iconUrl:null},className:"xima-js-map",classNameActivation:"active",template:null}};return l.initialize=function(e){return e&&jQuery.extend(!0,c,e.map),c.debug&&console.log("["+n+"] dsgvo.js initialized"),"true"===l.getState(c.mapStorageIdentifier)?(a=!0,l.loadScript()):l.hideCanvasElements(),l.initEventListener(),c.switchElement&&s(c.switchElement).length&&s(c.switchElement).prop("checked","true"===l.getState(c.mapStorageIdentifier)),this},l.loadScript=function(){var e,t="";c.scriptUrl?t=c.scriptUrl:s(c.scriptUrlSelector).length?t=s(c.scriptUrlSelector).attr("data-url"):c.debug&&console.log("["+n+"] no script url provided"),""!==t&&(e=jQuery,c.debug&&console.log("["+n+"] loading script: "+t),e.getScript(t).done(function(){c.debug&&console.log("["+n+"] map script loaded"),c.callback()}).fail(function(e,t,i){c.debug&&console.log("["+n+"] getScript failed")}))},l.initEventListener=function(){c.switchElement&&c.useGlobal&&(s(c.switchElement).unbind(),s(c.switchElement).change(function(e){c.debug&&console.log("["+n+"] switch maps representation state to: "+s(this).is(":checked")),l.setState(c.mapStorageIdentifier,s(this).is(":checked")),s(this).is(":checked")&&l.loadScript(),c.onSwitch(s(this).is(":checked"))}));var e=c.activationElement||"."+c.canvasHint.className;s(e).length&&(s(e).unbind(),s(e).on("click touchend",function(e){if(!a){if(c.onActivate(),c.useTouchHandling){var t=s("."+c.canvasHint.className);if("touchend"===e.type){if(t.hasClass(c.canvasHint.classNameActivation))return t.removeClass(c.canvasHint.classNameActivation),i.activateMap(),!0;t.addClass(c.canvasHint.classNameActivation)}else i.activateMap();return!1}i.activateMap()}}))},l.hideCanvasElements=function(){a||s.each(c.canvasElements,function(e,t){if(s(t).length){s(t).addClass(c.canvasHint.className),c.canvasHint.style.disableStyles||(s(t).css("background",c.canvasHint.style.background),s(t).css("color",c.canvasHint.style.textColor),s(t).css("font-size",c.canvasHint.style.textSize),s(t).hover(function(){s(this).css("cursor","pointer")}));var i=c.canvasHint.template;if(null==i){var n='<?xml version="1.0" ?><!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\'><svg enable-background="new 0 0 26 26" id="map" version="1.1" viewBox="0 0 26 26" width="'+c.canvasHint.style.iconSize+'" height="'+c.canvasHint.style.iconSize+'" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M24.9021606,21.0473633c0.0229492-0.0432129,0.0421753-0.0855103,0.0563354-0.1323242   c0.0135498-0.0444336,0.0206909-0.088562,0.0258179-0.1355591c0.0056152-0.0511475,0.0065308-0.1004639,0.0014038-0.1525879   c-0.0022583-0.0233154,0.005127-0.0452881,0.0006104-0.0687866l-1.8310547-9.4819336   c-0.0066528-0.0340576-0.0269165-0.0604248-0.0377197-0.0924072c-0.010498-0.0315552-0.0098267-0.0643921-0.0247803-0.0950928   c-0.0075684-0.0155029-0.0216675-0.0246582-0.0301514-0.0393677c-0.0272217-0.0478516-0.0612183-0.0872192-0.0975342-0.1273193   c-0.0292358-0.0321655-0.0559082-0.0645752-0.0897827-0.0908203c-0.0409546-0.0319824-0.0859985-0.053894-0.1328735-0.0767212   c-0.0407715-0.0198975-0.0791626-0.0401001-0.1227417-0.0523682c-0.0438843-0.0122681-0.0886841-0.0148926-0.1351318-0.0188599   c-0.053833-0.0049438-0.1057129-0.0080566-0.1601563-0.0009766c-0.0164185,0.0021362-0.0314941-0.003479-0.0480347-0.0003052   c-0.0328979,0.0063477-0.0581665,0.0263672-0.0891113,0.0366821c-0.0322876,0.0108032-0.06604,0.0101929-0.0974121,0.0258179   l-2.7524414,1.345459c0.4395142-0.8766479,0.7983398-1.9657593,0.7983398-3.2058105   c0-3.9213867-3.1787109-7.1137695-7.0927734-7.1342773c-0.0097656,0-0.0175781,0-0.0253906,0s-0.015625,0-0.0253906,0   c-3.9150391,0.0205078-7.09375,3.2128906-7.09375,7.1342773c0,1.2284546,0.3527222,2.30896,0.7872314,3.1819458   l-3.4337158,1.6784058c-0.0142822,0.007019-0.0227051,0.0200806-0.0363159,0.027832   c-0.0516968,0.0290527-0.0952148,0.0656128-0.1384888,0.1061401c-0.0292358,0.0274048-0.0584106,0.0525513-0.0826416,0.0838013   c-0.0309448,0.039978-0.0528564,0.0843506-0.0754395,0.1307983c-0.0216675,0.0441895-0.041748,0.0866699-0.0544434,0.1341553   c-0.0046387,0.0175171-0.0164185,0.0309448-0.0198975,0.0490112l-1.8310547,9.4819336   c-0.0045776,0.0238647,0.0028687,0.0462036,0.0006104,0.0699463c-0.005127,0.0510254-0.0041504,0.1002808,0.0014038,0.1520996   c0.0055542,0.0505371,0.0148315,0.0975952,0.0302124,0.1452026c0.0073853,0.0233154,0.0048218,0.0473022,0.0146484,0.0702515   c0.0126343,0.0294189,0.0331421,0.052002,0.0488892,0.0789185c0.013916,0.0238037,0.0262451,0.046875,0.0426636,0.0689697   c0.046814,0.0631714,0.100769,0.118042,0.1628418,0.1625366c0.0079956,0.0057983,0.0136108,0.0137329,0.0218506,0.019165   c0.0743408,0.0490723,0.1575317,0.0802612,0.2441406,0.1004028c0.0096436,0.0022583,0.0167236,0.0090332,0.0264893,0.0109253   c0.0478516,0.0090942,0.0947876,0.0133057,0.1407471,0.0134277c0.0006104,0,0.0012207,0.0002441,0.0018311,0.0002441   c0.0001221,0,0.0001831-0.000061,0.0003052-0.000061c0.0002441,0,0.0004272,0.000061,0.0006714,0.000061   c0.0962524,0,0.1879883-0.0219116,0.274353-0.0563354c0.0067749-0.0026245,0.013855-0.0013428,0.0205688-0.0042114   l6.730957-2.8847046L17,24.4072266c0.0056763,0.0020142,0.0113525,0.0010986,0.0170288,0.0029297   C17.09198,24.4347534,17.1699219,24.4501953,17.25,24.4501953c0.092041,0,0.1802979-0.0219116,0.2647095-0.0541382   c0.0102539-0.0038452,0.0209961-0.0020752,0.031189-0.0064087l7-3c0.022522-0.0096436,0.0369263-0.0285645,0.0579834-0.0401001   c0.0446777-0.0244141,0.0838623-0.052002,0.1220703-0.0843506c0.0371094-0.0313721,0.0704956-0.0629272,0.1004028-0.1002197   C24.8562012,21.1279297,24.8797607,21.0894165,24.9021606,21.0473633z M4.24646,14.7277222l3.2199707-1.5739136   l1.3627319,1.8533936l-0.5172119,5.0644531l-5.5574341,2.3817749L4.24646,14.7277222z M9.3131714,20.1036987l0.3980103-3.8969116   l2.689209,3.6574707c0.1416016,0.1923828,0.3916016,0.3056641,0.6298828,0.3056641s0.4628906-0.1137695,0.6044922-0.3056641   l2.3893433-3.2503662l0.6206055,6.0773926L9.3131714,20.1036987z M17.6513062,22.7119141l-0.7452393-7.2978516l0.7644653-1.039978   l4.1978149-2.052002l1.5307007,7.9265747L17.6513062,22.7119141z M13.0175781,3.0498047   c3.0996094,0.0068359,5.6181641,2.5317383,5.6181641,5.6342773c0,1.4643555-0.6523438,2.699707-1.2050781,3.484375   c-0.0019531,0.0024414-0.0039063,0.0043945-0.0058594,0.0068359l-4.4072266,5.9956055l-4.3916016-5.9731445   C8.6230469,12.1943359,8.6210938,12.190918,8.6181641,12.1875c-0.5566406-0.7841797-1.2197266-2.0283203-1.2197266-3.503418   C7.3984375,5.581543,9.9179688,3.0566406,13.0175781,3.0498047z" fill="#ffffff"/><path d="M13.0302734,11.847168c1.7412109,0,3.1582031-1.4189453,3.1582031-3.1630859   s-1.4169922-3.1630859-3.1582031-3.1630859c-1.7421875,0-3.1591797,1.4189453-3.1591797,3.1630859   S11.2880859,11.847168,13.0302734,11.847168z M13.0302734,6.5209961c1.1904297,0,2.1582031,0.9702148,2.1582031,2.1630859   s-0.9677734,2.1630859-2.1582031,2.1630859s-2.1591797-0.9702148-2.1591797-2.1630859S11.8398438,6.5209961,13.0302734,6.5209961z" fill="#ffffff"/></g></svg>',a=c.canvasHint.style.disableIcon?"":c.canvasHint.style.iconUrl?'<img src="'+c.canvasHint.style.iconUrl+'" style="width: '+c.canvasHint.style.iconSize+';" alt="Forbidden map" />':n,o=c.canvasHint.style.disableStyles?"":c.canvasHint.style.hintStyle,r=c.canvasHint.style.disableStyles?"":c.canvasHint.style.hintBodyStyle;i='<div class="'+c.canvasHint.className+'-hint" style="'+o+'">'+a+'<div class="'+c.canvasHint.className+'-hint-body" style="'+r+'">'+c.canvasHint.msg+"</div></div>"}s(t).append(i),l.initEventListener()}})},l.setState=function(e,t){if(!c.useCookie)return"undefined"!=typeof Storage?(localStorage.setItem(e,t),!0):(c.debug&&console.log("["+n+"] browser doesn't support local storage"),!1);i.createCookie(e,t,c.cookieLifetime)},l.getState=function(e){if(!c.useCookie)return"undefined"!=typeof Storage?localStorage.getItem(e):(c.debug&&console.log("["+n+"] browser doesn't support local storage"),!1);i.getCookie(e)},i.activateMap=function(){c.debug&&console.log("["+n+"] activate maps representation by clicking/touching activation element"),s("."+c.canvasHint.className+"-hint").fadeOut(function(){s(this).remove()}),l.loadScript(),a=!0,c.useGlobal&&(l.setState(c.mapStorageIdentifier,!0),s(c.switchElement).prop("checked","true"===l.getState(c.mapStorageIdentifier)))},i.createCookie=function(e,t,i){var n;if(i){var a=new Date;a.setTime(a.getTime()+i),n="; expires="+a.toGMTString()}else n="";o.cookie=e+"="+t+n+"; path=/"},i.getCookie=function(e){return 0<o.cookie.length&&(c_start=o.cookie.indexOf(e+"="),-1!==c_start)?(c_start=c_start+e.length+1,c_end=o.cookie.indexOf(";",c_start),-1===c_end&&(c_end=o.cookie.length),unescape(o.cookie.substring(c_start,c_end))):""},l}(window,document,jQuery),Filter=function(e,t,r,i){var n={},s=this,a="filter.js",l={filterForms:[],list:null,storage:!1,hideClass:"hidden",filterableElements:"li",filterOnSubmit:!1,beforeApplyFilter:function(){},afterApplyFilter:function(){},debug:!1},c=[];return n.init=function(e){if(e&&jQuery.extend(l,e),l.debug&&console.log("["+a+"] filter.js initialized"),s.initEventListener(),l.storage){if("undefined"==typeof Storage)throw"["+a+"] no webstorage support!";s.initStorage()}return this},n.clearStorage=function(){c=[],sessionStorage.clear()},this.initEventListener=function(){l.debug&&console.log("["+a+"] init event listener"),r.each(l.filterForms,function(e,t){if(r(t).length){var i=r(t);i.unbind(),l.filterOnSubmit?i.on("submit",function(e){e.preventDefault(),l.debug&&console.log("["+a+"] filter submit"),n.applyFilter()}):(i.find("input").on("input",function(e){l.debug&&console.log("["+a+"] filter change"),n.applyFilter()}),i.on("submit",function(e){e.preventDefault()}))}})},this.initStorage=function(){n.clearStorage();var e=r(l.list).find(l.filterableElements);l.debug&&console.log("["+a+"] init storage"),r.each(e,function(e,t){var i=r(this),n={};r.each(i.get(0).attributes,function(e,t){if(-1!==t.name.indexOf("data-")){var i=t.name.replace("data-","");n[i]=t.value}}),c.push(e),sessionStorage.setItem(e,JSON.stringify(n))})},this.buildFilter=function(){var n={};return l.beforeApplyFilter(),r.each(l.filterForms,function(e,t){if(r(t).length){var i=r(t).serializeArray();r.each(i,function(e,t){if(""!==t.value){if(void 0!==n[t.name])var i=n[t.name];else i={};i[Object.keys(i).length]=t.value,n[t.name]=i}})}}),n},n.applyFilter=function(a){null===a?a=s.buildFilter():(n.reset(),s.synchronizeFilterForm(a));var o=r(l.list).find(l.filterableElements);l.storage?r.each(c,function(e,t){var i=[],n=JSON.parse(sessionStorage.getItem(t));r.each(a,function(e,t){void 0!==n[e]&&("text"===r('input[name="'+e+'"]').attr("type")?i.push(0<=n[e].indexOf(t[0])):i.push(-1!==jQuery.inArray(n[e],Object.values(t))))}),-1!==jQuery.inArray(!1,i)?r(o[e]).addClass(l.hideClass):r(o[e]).removeClass(l.hideClass)}):r.each(o,function(e,t){var i=[],n=r(this);r.each(a,function(e,t){n.attr("data-"+e)&&("text"===r('input[name="'+e+'"]').attr("type")?i.push(0<=n.attr("data-"+e).indexOf(t[0])):i.push(-1!==jQuery.inArray(n.attr("data-"+e),Object.values(t))))}),-1!==jQuery.inArray(!1,i)?n.addClass(l.hideClass):n.removeClass(l.hideClass)}),l.afterApplyFilter()},this.synchronizeFilterForm=function(e){r.each(e,function(e,t){"text"===r('input[name="'+e+'"]').attr("type")?r('input[name="'+e+'"]').val(t):r('input[name="'+e+'"][value="'+t+'"]').prop("checked",!0)})},n.reset=function(){r.each(l.filterForms,function(e,t){if(r(t).length){var i=r(t);i.unbind(),i.find("input").each(function(){"text"===r(this).attr("type")?r(this).val(""):r(this).prop("checked",!1)})}})},n}(window,document,jQuery),XIMA.api.googlemaps=function(c,e,o,t){var i={Map:function(){var h=this,d=null,n=null,r=null,s=[],g=[],l=[],a={},f={},t={backgroundColor:"String",center:"google.maps.LatLng",disableDefaultUI:"Boolean",disableDoubleClickZoom:"Boolean",draggable:"Boolean",draggableCursor:"String",draggingCursor:"String",heading:"Number",keyboardShortcuts:"Boolean",mapMaker:"Boolean",mapTypeControl:"Boolean",mapTypeControlOptions:"google.maps.MapTypeControlOptions",mapTypeId:"google.maps.MapTypeId",maxZoom:"Number",minZoom:"Number",noClear:"Boolean",overviewMapControl:"Boolean",overviewMapControlOptions:"google.maps.OverviewMapControlOptions",panControl:"Boolean",panControlOptions:"google.maps.PanControlOptions",rotateControl:"Boolean",rotateControlOptions:"google.maps.RotateControlOptions",scaleControl:"Boolean",scaleControlOptions:"google.maps.ScaleControlOptions",scrollwheel:"Boolean",streetView:"google.maps.StreetViewPanorama",streetViewControl:"Boolean",streetViewControlOptions:"google.maps.StreetViewControlOptions",styles:"google.maps.MapTypeStyle",tilt:"Number",zoom:"Number",zoomControl:"Boolean",zoomControlOptions:"google.maps.ZoomControlOptions"},i=null,e={keepSpiderfied:!0},m={IsNotJson:"Die angegebene Variable ist keine JSON!",MissingMapDataProperty:"Dem MapData-Object fehlen die benötigten Eigenschaften!",MissingMapCanvas:"Es wird ein Map-Canvas benötigt!",MissingMap:"Fehlende GoogleMaps Instanz!"};this.initGoogleMaps=function(e,t){if(this.getMapOptions(),o(n).data("map-initialized")&&!0===o(n).data("map-initialized"))return this;if(!n)return console.log(m.MissingMapCanvas),this;for(var i in o(n).data("map-initialized",!0),d=new google.maps.Map(n,this.getMapOptions()),this.applyMapData(e,t),a)a.hasOwnProperty(i)&&a[i].setMap(d);return this},this.applyMapData=function(e,t){if(!d)return console.log(m.MissingMap),this;if(jQuery.isEmptyObject(f)||!f.points)return console.log(m.MissingMapDataProperty),this;t="boolean"!=typeof t||t;if(e="boolean"!=typeof e||e)var i=new google.maps.LatLngBounds;var n,a,o,r,s,l,c=!jQuery.isEmptyObject(f)&&f.points?Object.keys(f.points).length:0;t&&this.createOverlappingMarkerSpiderfier();for(var u=0;u<c;u++)s=parseFloat(f.points[u].lat),l=parseFloat(f.points[u].lng),isNaN(s)||isNaN(l)||(a=new google.maps.LatLng(s,l),n=f.points[u].title?f.points[u].title:"",o=f.points[u].icon?f.points[u].icon:null,this.addMarker(a,n,o),r=g.length-1,e&&i.extend(g[r].position),g[r].setMap(d));if(e&&0<g.length){d.fitBounds(i);var p=google.maps.event.addListener(d,"zoom_changed",function(){d.getZoom()>h.getMapOptions.zoom&&d.setZoom(h.getMapOptions.zoom),google.maps.event.removeListener(p)})}},this.closeInfoWindows=function(){0<s.length&&(s[0].set("marker",null),s[0].close(),s.length=0)},this.setMapOptions=function(e){return e&&this.convertDataType(e,t)&&(i=e),this},this.addMapOptions=function(e){return e&&this.convertDataType(e,t)&&jQuery.extend(this.getMapOptions,e),this},this.convertDataType=function(t,e){if(!e||"object"!=typeof t)return!1;var i=!0;for(var n in t)if(e[n]){var a,o=e[n].split(".");a=c[o[0]];for(var r=1;r<o.length;r++)a=a[o[r]];if(!(t[n]instanceof a||typeof t[n]===a)&&typeof t[n]!==a)try{t[n]=a(t[n])}catch(e){try{t[n]=new a}catch(e){console.log("Cannot convert "+t[n]+" to "+a),i=!1}}}return i},this.getMapOptions=function(){return typeof i!=google.maps&&(i={center:new google.maps.LatLng(51.06966,13.778158),zoom:8}),i},this.setMapData=function(t){if("array"===jQuery.type(t)||"object"===jQuery.type(t))f=t;else if("string"===jQuery.type(t))for(var e=!0;e;){try{f=jQuery.parseJSON(json)}catch(e){if(0!==jQuery(t).length){json=jQuery(t).val();continue}console.log(m.IsNotJson)}e=!1}return jQuery.isEmptyObject(f)||!f.points?console.log(m.MissingMapDataProperty):f.mapOptions&&this.addMapOptions(f.mapOptions),this},this.setMapCanvas=function(e){return n=jQuery(e).get(0),this},this.addLayers=function(e){if("object"==typeof e)for(var t in e)a[t]=new google.maps.KmlLayer({url:e[t],preserveViewport:!0});return this},this.removeLayer=function(e){return e&&a.key&&delete a.key,this},this.addMarker=function(e,t,i,n){if(!d)return console.log(m.MissingMap),this;var a,o=this;if(g.push(new google.maps.Marker({position:e,title:t,icon:i,map:d})),j=g.length-1,r&&r.addMarker(g[j]),!1!==n){n=n||f.points[j].windowContent;google.maps.event.addListener(g[j],"click",(a=j,function(){o.closeInfoWindows();var e=new google.maps.InfoWindow({content:n});e.open(d,g[a]),s[0]=e}))}return this},this.setAllMarkersMap=function(e){for(var t=g.length-1;0<=t;t--)g[t].setMap(e);return this},this.clearMarkers=function(){return this.setAllMarkersMap(null),this},this.deleteMarkers=function(){return this.clearMarkers(),g=[],this},this.showMarkers=function(){return d&&this.setAllMarkersMap(d),this},this.createOverlappingMarkerSpiderfier=function(){return c.initOverlappingMarkerSpiderfier(),d&&(r=new OverlappingMarkerSpiderfier(d,e)),this},this.getOMSOptions=function(){return e},this.drawPolyline=function(e,t,i){var n=[];t&&(f.routes[e]=jQuery.parseJSON(t));for(var a=jQuery.isEmptyObject(f)||jQuery.isEmptyObject(f.routes)||!f.routes[e]?0:Object.keys(f.routes[e]).length,o=0;o<a;o++)f.routes[e][o].lat&&f.routes[e][o].lng&&n.push(new google.maps.LatLng(parseFloat(f.routes[e][o].lat),parseFloat(f.routes[e][o].lng)));var r={path:n,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2};return i&&jQuery.extend(r,i),l[e]=new google.maps.Polyline(r),d&&l[e].setMap(d),this}}};return i}(window,document,jQuery),XIMA.api.openlayers=function(e,t,r,i){var s={},l=[],c=function(i){var n=this;this.map=new ol.Map({target:i.target}),this.addLayer=function(e){n.map.addLayer(e)},this.initialize=function(){if(i.hasOwnProperty("baseLayerUrl")){var e=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:i.attribution||""})],tilePixelRatio:2,url:i.baseLayerUrl}),name:"baseLayer",title:"Base Layer"});n.map.addLayer(e)}if(i.hasOwnProperty("view")){jQuery.extend(i.view,{center:ol.proj.transform([i.view.lon,i.view.lat],"EPSG:4326","EPSG:3857"),zoom:i.view.zoom||7});var t=new ol.View(i.view);n.map.setView(t)}},this.initialize()};return{createMaps:function(e,t,i,n,a){var o;return o={baseLayerUrl:i,view:n,attribution:a},r((s={wrapper:e,map:t}).wrapper).each(function(){r(s.map,r(this)).each(function(){l.push(new c({target:r(this).get(0),baseLayerUrl:o.baseLayerUrl,view:o.view,attribution:o.attribution}))})}),l}}}(window,document,jQuery),XIMA.api.redirectConfirmation=function(e,t,n,i){var a={},o="XIMA.api.redirectConfirmation",r=this,s={debug:!1,linkElementSelector:"a",excludeSelectorClass:"xima-js-exclude-from-redirect-confirmation",onlyExternalLinks:!0,timerMode:!0,timerDuration:5e3,suppressTarget:!1,onRedirectModal:function(){},modal:{message:{title:"Sie verlassen nun die Webseite",bodyTimerMode:"Sie werden in 5 Sekunden auf den externen Link, den Sie angeklickt haben, umgeleitet. Sollte dies nicht funktionieren, klicken Sie bitte auf den folgenden Link:",bodyClassicMode:"Bitte klicken Sie auf den folgenden Link, um die Weiterleitung zu bestätigen",abort:"Abbrechen"},class:"xima-js-redirect-confirmation"}};return a.initialize=function(e){return e&&jQuery.extend(s,e),s.debug&&console.log("["+o+"] js initialized"),r.createModal(),a.initEventListener(),this},a.initEventListener=function(){var e="";e=s.onlyExternalLinks?s.linkElementSelector+":not(."+s.excludeSelectorClass+')[href^="http://"], '+s.linkElementSelector+":not(."+s.excludeSelectorClass+')[href^="https://"], '+s.linkElementSelector+":not(."+s.excludeSelectorClass+')[href^="//"]':s.linkElementSelector+":not(."+s.excludeSelectorClass+")",s.debug&&console.log("["+o+"] event listener initialized"),n(e).unbind(),n(e).on("click",function(e){e.preventDefault();var t=n(this).attr("target");r.showModal(n(this).attr("href"),t)})},this.createModal=function(){var e="";e=s.timerMode?"<p>"+s.modal.message.bodyTimerMode+"</p>\n":"<p>"+s.modal.message.bodyClassicMode+"</p>\n";var t='<div class="modal fade '+s.modal.class+'" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n        <h4 class="modal-title">'+s.modal.message.title+'</h4>\n      </div>\n      <div class="modal-body">\n'+e+'        <p><a href="#" class="'+s.modal.class+"-link "+s.excludeSelectorClass+'"></a></p>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default '+s.modal.class+'-abort" data-dismiss="modal">'+s.modal.message.abort+"</button>\n      </div>\n    </div>\n  </div>\n</div>";n("body").append(t)},this.showModal=function(e,t){s.onRedirectModal();var i=n("."+s.modal.class+"-link");i.html(e),i.attr("href",e),!s.suppressTarget&&i.attr("target",t),n("."+s.modal.class).modal("show"),s.timerMode&&r.redirectTimer(e),i.unbind(),i.click(function(){n("."+s.modal.class).modal("hide")})},this.redirectTimer=function(e){s.debug&&console.log("["+o+"] start timer");var t=setTimeout(function(){s.debug&&console.log("["+o+"] redirect on timer"),n("."+s.modal.class+"-link")[0].click()},s.timerDuration);n("."+s.modal.class+"-abort").unbind(),n("."+s.modal.class+"-abort").on("click",function(e){s.debug&&console.log("["+o+"] cancel timer"),e.preventDefault(),clearTimeout(t)})},a}(window,document,jQuery),XIMA.api.responsiveImages=function(l,e,c,t){var i={};function n(){c(i.wrapper).each(function(){var e=c(this),s={width:e.width()};c(i.image,e).each(function(){for(var e,t=c(this),i=/([^\s,]+)\s+(\d+)w/g,n=t.data("srcset"),a=[];null!==(e=i.exec(n));)a.push({src:e[1],width:parseInt(e[2])});a.sort(function(e,t){return e.width-t.width});for(var o=s.width*l.devicePixelRatio,r=0;r<a.length;r++){if(a[r].width>=o){t.attr("width",s.width),t.attr("src",a[r].src);break}r===a.length-1&&(t.attr("width",s.width),t.attr("src",a[r].src))}})})}return l.onresize=n,{run:function(e,t){i={wrapper:e||"body",image:t||"img"},n()},refresh:function(){n()}}}(window,document,jQuery);