var XIMA={api:{}};window.initOverlappingMarkerSpiderfier=function(){var d=!0,f=null,m=!1;(function(){var e,l={}.hasOwnProperty,a=[].slice;((e=this.google)!=f?e.maps:void 0)!=f&&(this.OverlappingMarkerSpiderfier=function(){function e(e,t){var i,n,r,o,a=this;for(i in this.map=e,t==f&&(t={}),t)l.call(t,i)&&(n=t[i],this[i]=n);for(this.e=new this.constructor.g(this.map),this.n(),this.b={},n=0,r=(o=["click","zoom_changed","maptypeid_changed"]).length;n<r;n++)i=o[n],u.addListener(this.map,i,function(){return a.unspiderfy()})}var u,g,t,i,n,r,s,o;for(i=0,n=(o=[e,r=e.prototype]).length;i<n;i++)(t=o[i]).VERSION="0.3.3";return g=google.maps,u=g.event,n=g.MapTypeId,s=2*Math.PI,r.keepSpiderfied=m,r.markersWontHide=m,r.markersWontMove=m,r.nearbyDistance=20,r.circleSpiralSwitchover=9,r.circleFootSeparation=23,r.circleStartAngle=s/12,r.spiralFootSeparation=26,r.spiralLengthStart=11,r.spiralLengthFactor=4,r.spiderfiedZIndex=1e3,r.usualLegZIndex=10,r.highlightedLegZIndex=20,r.legWeight=1.5,r.legColors={usual:{},highlighted:{}},i=r.legColors.usual,t=r.legColors.highlighted,i[n.HYBRID]=i[n.SATELLITE]="#fff",t[n.HYBRID]=t[n.SATELLITE]="#f00",i[n.TERRAIN]=i[n.ROADMAP]="#444",t[n.TERRAIN]=t[n.ROADMAP]="#f00",r.n=function(){this.a=[],this.j=[]},r.addMarker=function(t){var e,i=this;return t._oms!=f||(t._oms=d,e=[u.addListener(t,"click",function(e){return i.F(t,e)})],this.markersWontHide||e.push(u.addListener(t,"visible_changed",function(){return i.o(t,m)})),this.markersWontMove||e.push(u.addListener(t,"position_changed",function(){return i.o(t,d)})),this.j.push(e),this.a.push(t)),this},r.o=function(e,t){if(e._omsData!=f&&(t||!e.getVisible())&&this.s==f&&this.t==f)return this.unspiderfy(t?e:f)},r.getMarkers=function(){return this.a.slice(0)},r.removeMarker=function(e){var t,i,n,r,o;if(e._omsData!=f&&this.unspiderfy(),(t=this.m(this.a,e))<0)return this;for(r=0,o=(n=this.j.splice(t,1)[0]).length;r<o;r++)i=n[r],u.removeListener(i);return delete e._oms,this.a.splice(t,1),this},r.clearMarkers=function(){var e,t,i,n,r,o,a,s;for(this.unspiderfy(),e=n=0,o=(s=this.a).length;n<o;e=++n){for(i=s[e],r=0,a=(t=this.j[e]).length;r<a;r++)e=t[r],u.removeListener(e);delete i._oms}return this.n(),this},r.addListener=function(e,t){var i,n;return((n=(i=this.b)[e])!=f?n:i[e]=[]).push(t),this},r.removeListener=function(e,t){var i;return(i=this.m(this.b[e],t))<0||this.b[e].splice(i,1),this},r.clearListeners=function(e){return this.b[e]=[],this},r.trigger=function(){var e,t,i,n,r,o;for(t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],o=[],n=0,r=(t=(i=this.b[t])!=f?i:[]).length;n<r;n++)i=t[n],o.push(i.apply(f,e));return o},r.u=function(e,t){var i,n,r,o,a;for(r=this.circleFootSeparation*(2+e)/s,n=s/e,a=[],i=o=0;0<=e?o<e:e<o;i=0<=e?++o:--o)i=this.circleStartAngle+i*n,a.push(new g.Point(t.x+r*Math.cos(i),t.y+r*Math.sin(i)));return a},r.v=function(e,t){var i,n,r,o,a;for(r=this.spiralLengthStart,a=[],n=o=i=0;0<=e?o<e:e<o;n=0<=e?++o:--o)i+=this.spiralFootSeparation/r+5e-4*n,n=new g.Point(t.x+r*Math.cos(i),t.y+r*Math.sin(i)),r+=s*this.spiralLengthFactor/i,a.push(n);return a},r.F=function(e,t){var i,n,r,o,a,s,l,p,c;if((!(o=e._omsData!=f)||!this.keepSpiderfied)&&this.unspiderfy(),o||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,t);for(o=[],a=[],s=(i=this.nearbyDistance)*i,r=this.c(e.position),l=0,p=(c=this.a).length;l<p;l++)(i=c[l]).map!=f&&i.getVisible()&&(n=this.c(i.position),this.f(n,r)<s?o.push({A:i,p:n}):a.push(i));return 1===o.length?this.trigger("click",e,t):this.G(o,a)},r.markersNearMarker=function(e,t){var i,n,r,o,a,s,l,p,c,h;if(t==f&&(t=m),this.e.getProjection()==f)throw"Must wait for 'idle' event on map before calling markersNearMarker";for(a=(i=this.nearbyDistance)*i,r=this.c(e.position),o=[],s=0,l=(p=this.a).length;s<l&&!((i=p[s])!==e&&i.map!=f&&i.getVisible()&&(n=this.c((c=(h=i._omsData)!=f?h.l:void 0)!=f?c:i.position),this.f(n,r)<a&&(o.push(i),t)));s++);return o},r.markersNearAnyOtherMarker=function(){var e,t,i,n,r,o,a,s,l,p,c,h;if(this.e.getProjection()==f)throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(e=(o=this.nearbyDistance)*o,o=[],c=0,i=(n=this.a).length;c<i;c++)t=n[c],o.push({q:this.c((a=(l=t._omsData)!=f?l.l:void 0)!=f?a:t.position),d:m});for(t=a=0,l=(c=this.a).length;a<l;t=++a)if((i=c[t]).map!=f&&i.getVisible()&&!(n=o[t]).d)for(i=s=0,p=(h=this.a).length;s<p;i=++s)if(r=h[i],i!==t&&r.map!=f&&r.getVisible()&&(r=o[i],(!(i<t)||r.d)&&this.f(n.q,r.q)<e)){n.d=r.d=d;break}for(i=[],e=a=0,l=(c=this.a).length;a<l;e=++a)t=c[e],o[e].d&&i.push(t);return i},r.z=function(e){var t=this;return{h:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})},k:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}},r.G=function(r,e){var t,o,a,s,l,p,c,n,h,i;return this.s=d,i=r.length,t=this.C(function(){var e,t,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(n.p);return i}()),s=i>=this.circleSpiralSwitchover?this.v(i,t).reverse():this.u(i,t),t=function(){var e,t,i,n=this;for(i=[],e=0,t=s.length;e<t;e++)a=s[e],o=this.D(a),h=this.B(r,function(e){return n.f(e.p,a)}),c=h.A,p=new g.Polyline({map:this.map,path:[c.position,o],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={l:c.position,i:p},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.z(c),c._omsData.w={h:u.addListener(c,"mouseover",l.h),k:u.addListener(c,"mouseout",l.k)}),c.setPosition(o),c.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),i.push(c);return i}.call(this),delete this.s,this.r=d,this.trigger("spiderfy",t,e)},r.unspiderfy=function(e){var t,i,n,r,o,a,s;if(e==f&&(e=f),this.r==f)return this;for(this.t=d,r=[],n=[],o=0,a=(s=this.a).length;o<a;o++)(i=s[o])._omsData!=f?(i._omsData.i.setMap(f),i!==e&&i.setPosition(i._omsData.l),i.setZIndex(f),(t=i._omsData.w)!=f&&(u.removeListener(t.h),u.removeListener(t.k)),delete i._omsData,r.push(i)):n.push(i);return delete this.t,delete this.r,this.trigger("unspiderfy",r,n),this},r.f=function(e,t){var i,n;return(i=e.x-t.x)*i+(n=e.y-t.y)*n},r.C=function(e){var t,i,n,r,o;for(r=i=n=0,o=e.length;r<o;r++)i+=(t=e[r]).x,n+=t.y;return e=e.length,new g.Point(i/e,n/e)},r.c=function(e){return this.e.getProjection().fromLatLngToDivPixel(e)},r.D=function(e){return this.e.getProjection().fromDivPixelToLatLng(e)},r.B=function(e,t){var i,n,r,o,a,s;for(r=a=0,s=e.length;a<s;r=++a)o=t(o=e[r]),(void 0===i||i===f||o<n)&&(n=o,i=r);return e.splice(i,1)[0]},r.m=function(e,t){var i,n,r;if(e.indexOf!=f)return e.indexOf(t);for(i=n=0,r=e.length;n<r;i=++n)if(e[i]===t)return i;return-1},(e.g=function(e){return this.setMap(e)}).prototype=new g.OverlayView,e.g.prototype.draw=function(){},e}())}).call(this)},XIMA.api.dsgvo=function(e,t,r,i){var o={},n="XIMA.api.dsgvo",a=!1,s={debug:!1,scriptUrl:null,scriptUrlSelector:".map-script-url",mapStorageIdentifier:"ximaMapState",useGlobal:!1,useCanvasHint:!0,switchElement:null,canvasElements:[],callback:function(){},canvasHint:{msg:"Karten sind standardmäßig deaktiviert. Klicken Sie hier, um den Datenschutzbestimmungen zuzustimmen und die Karte anzeigen zu lassen.",style:{backgroundColor:"rgba(0,0,0,0.5)",textColor:"#dddddd",textSize:"12px",iconUrl:null},className:"js-map-hint"}},l="."+s.canvasHint.className;return o.initialize=function(e){return s.debug&&console.log("["+n+"] dsgvo.js initialized"),e&&jQuery.extend(s,e.map),"true"===o.getState(s.mapStorageIdentifier)?(a=!0,o.loadScript()):o.hideCanvasElements(),o.initEventListener(),s.switchElement&&r(s.switchElement).length&&r(s.switchElement).prop("checked","true"===o.getState(s.mapStorageIdentifier)),this},o.loadScript=function(){var e="";s.scriptUrl?e=s.scriptUrl:r(s.scriptUrlSelector).length?e=r(s.scriptUrlSelector).attr("data-url"):s.debug&&console.log("["+n+"] no script url provided"),""!==e&&jQuery.getScript(e).done(function(){s.debug&&console.log("["+n+"] loading script: "+e),s.debug&&console.log("["+n+"] map script loaded"),s.callback()}).fail(function(e,t,i){s.debug&&console.log("["+n+"] getScript failed")})},o.initEventListener=function(){s.switchElement&&s.useGlobal&&(r(s.switchElement).unbind(),r(s.switchElement).change(function(e){s.debug&&console.log("["+n+"] switch maps representation state to: "+r(this).is(":checked")),o.setState(s.mapStorageIdentifier,r(this).is(":checked")),r(this).is(":checked")&&o.loadScript()})),r(l).length&&(r(l).unbind(),r(l).on("click",function(e){a||(s.debug&&console.log("["+n+"] activate maps representation by clicking the hint"),r(l).fadeOut(function(){r(this).remove()}),o.loadScript(),a=!0,s.useGlobal&&(o.setState(s.mapStorageIdentifier,!0),r(s.switchElement).prop("checked","true"===o.getState(s.mapStorageIdentifier))))}))},o.hideCanvasElements=function(){a||r.each(s.canvasElements,function(e,t){if(r(t).length){r(t).css("background-color",s.canvasHint.style.backgroundColor),r(t).css("color",s.canvasHint.style.textColor),r(t).css("font-size",s.canvasHint.style.textSize),r(t).hover(function(){r(this).css("cursor","pointer")});var i=s.canvasHint.style.iconUrl?'<img src="'+s.canvasHint.style.iconUrl+'" style="width: 50px; margin-bottom: 20px;" alt="Forbidden map" />':'<?xml version="1.0" ?><!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\'><svg enable-background="new 0 0 26 26" id="map" version="1.1" viewBox="0 0 26 26" width="100px" height="100px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M24.9021606,21.0473633c0.0229492-0.0432129,0.0421753-0.0855103,0.0563354-0.1323242   c0.0135498-0.0444336,0.0206909-0.088562,0.0258179-0.1355591c0.0056152-0.0511475,0.0065308-0.1004639,0.0014038-0.1525879   c-0.0022583-0.0233154,0.005127-0.0452881,0.0006104-0.0687866l-1.8310547-9.4819336   c-0.0066528-0.0340576-0.0269165-0.0604248-0.0377197-0.0924072c-0.010498-0.0315552-0.0098267-0.0643921-0.0247803-0.0950928   c-0.0075684-0.0155029-0.0216675-0.0246582-0.0301514-0.0393677c-0.0272217-0.0478516-0.0612183-0.0872192-0.0975342-0.1273193   c-0.0292358-0.0321655-0.0559082-0.0645752-0.0897827-0.0908203c-0.0409546-0.0319824-0.0859985-0.053894-0.1328735-0.0767212   c-0.0407715-0.0198975-0.0791626-0.0401001-0.1227417-0.0523682c-0.0438843-0.0122681-0.0886841-0.0148926-0.1351318-0.0188599   c-0.053833-0.0049438-0.1057129-0.0080566-0.1601563-0.0009766c-0.0164185,0.0021362-0.0314941-0.003479-0.0480347-0.0003052   c-0.0328979,0.0063477-0.0581665,0.0263672-0.0891113,0.0366821c-0.0322876,0.0108032-0.06604,0.0101929-0.0974121,0.0258179   l-2.7524414,1.345459c0.4395142-0.8766479,0.7983398-1.9657593,0.7983398-3.2058105   c0-3.9213867-3.1787109-7.1137695-7.0927734-7.1342773c-0.0097656,0-0.0175781,0-0.0253906,0s-0.015625,0-0.0253906,0   c-3.9150391,0.0205078-7.09375,3.2128906-7.09375,7.1342773c0,1.2284546,0.3527222,2.30896,0.7872314,3.1819458   l-3.4337158,1.6784058c-0.0142822,0.007019-0.0227051,0.0200806-0.0363159,0.027832   c-0.0516968,0.0290527-0.0952148,0.0656128-0.1384888,0.1061401c-0.0292358,0.0274048-0.0584106,0.0525513-0.0826416,0.0838013   c-0.0309448,0.039978-0.0528564,0.0843506-0.0754395,0.1307983c-0.0216675,0.0441895-0.041748,0.0866699-0.0544434,0.1341553   c-0.0046387,0.0175171-0.0164185,0.0309448-0.0198975,0.0490112l-1.8310547,9.4819336   c-0.0045776,0.0238647,0.0028687,0.0462036,0.0006104,0.0699463c-0.005127,0.0510254-0.0041504,0.1002808,0.0014038,0.1520996   c0.0055542,0.0505371,0.0148315,0.0975952,0.0302124,0.1452026c0.0073853,0.0233154,0.0048218,0.0473022,0.0146484,0.0702515   c0.0126343,0.0294189,0.0331421,0.052002,0.0488892,0.0789185c0.013916,0.0238037,0.0262451,0.046875,0.0426636,0.0689697   c0.046814,0.0631714,0.100769,0.118042,0.1628418,0.1625366c0.0079956,0.0057983,0.0136108,0.0137329,0.0218506,0.019165   c0.0743408,0.0490723,0.1575317,0.0802612,0.2441406,0.1004028c0.0096436,0.0022583,0.0167236,0.0090332,0.0264893,0.0109253   c0.0478516,0.0090942,0.0947876,0.0133057,0.1407471,0.0134277c0.0006104,0,0.0012207,0.0002441,0.0018311,0.0002441   c0.0001221,0,0.0001831-0.000061,0.0003052-0.000061c0.0002441,0,0.0004272,0.000061,0.0006714,0.000061   c0.0962524,0,0.1879883-0.0219116,0.274353-0.0563354c0.0067749-0.0026245,0.013855-0.0013428,0.0205688-0.0042114   l6.730957-2.8847046L17,24.4072266c0.0056763,0.0020142,0.0113525,0.0010986,0.0170288,0.0029297   C17.09198,24.4347534,17.1699219,24.4501953,17.25,24.4501953c0.092041,0,0.1802979-0.0219116,0.2647095-0.0541382   c0.0102539-0.0038452,0.0209961-0.0020752,0.031189-0.0064087l7-3c0.022522-0.0096436,0.0369263-0.0285645,0.0579834-0.0401001   c0.0446777-0.0244141,0.0838623-0.052002,0.1220703-0.0843506c0.0371094-0.0313721,0.0704956-0.0629272,0.1004028-0.1002197   C24.8562012,21.1279297,24.8797607,21.0894165,24.9021606,21.0473633z M4.24646,14.7277222l3.2199707-1.5739136   l1.3627319,1.8533936l-0.5172119,5.0644531l-5.5574341,2.3817749L4.24646,14.7277222z M9.3131714,20.1036987l0.3980103-3.8969116   l2.689209,3.6574707c0.1416016,0.1923828,0.3916016,0.3056641,0.6298828,0.3056641s0.4628906-0.1137695,0.6044922-0.3056641   l2.3893433-3.2503662l0.6206055,6.0773926L9.3131714,20.1036987z M17.6513062,22.7119141l-0.7452393-7.2978516l0.7644653-1.039978   l4.1978149-2.052002l1.5307007,7.9265747L17.6513062,22.7119141z M13.0175781,3.0498047   c3.0996094,0.0068359,5.6181641,2.5317383,5.6181641,5.6342773c0,1.4643555-0.6523438,2.699707-1.2050781,3.484375   c-0.0019531,0.0024414-0.0039063,0.0043945-0.0058594,0.0068359l-4.4072266,5.9956055l-4.3916016-5.9731445   C8.6230469,12.1943359,8.6210938,12.190918,8.6181641,12.1875c-0.5566406-0.7841797-1.2197266-2.0283203-1.2197266-3.503418   C7.3984375,5.581543,9.9179688,3.0566406,13.0175781,3.0498047z" fill="#ffffff"/><path d="M13.0302734,11.847168c1.7412109,0,3.1582031-1.4189453,3.1582031-3.1630859   s-1.4169922-3.1630859-3.1582031-3.1630859c-1.7421875,0-3.1591797,1.4189453-3.1591797,3.1630859   S11.2880859,11.847168,13.0302734,11.847168z M13.0302734,6.5209961c1.1904297,0,2.1582031,0.9702148,2.1582031,2.1630859   s-0.9677734,2.1630859-2.1582031,2.1630859s-2.1591797-0.9702148-2.1591797-2.1630859S11.8398438,6.5209961,13.0302734,6.5209961z" fill="#ffffff"/></g></svg>',n='<div class="'+s.canvasHint.className+'" style="position: absolute; width: 200px; height: 200px; top: 50%; left: 50%; margin-top: -100px; margin-left: -100px; text-align: center">'+i+'<div class="'+s.canvasHint.className+'-body">'+s.canvasHint.msg+"</div></div>";r(t).append(n),o.initEventListener()}})},o.setState=function(e,t){return"undefined"!=typeof Storage?(localStorage.setItem(e,t),!0):(s.debug&&console.log("["+n+"] browser doesn't support local storage"),!1)},o.getState=function(e){return"undefined"!=typeof Storage?localStorage.getItem(e):(s.debug&&console.log("["+n+"] browser doesn't support local storage"),!1)},o}(window,document,jQuery),XIMA.api.googlemaps=function(s,e,n,t){var u={},g=null,r=null,a=null,l=[],d=[],p=[],o={},f={},i={backgroundColor:"String",center:"google.maps.LatLng",disableDefaultUI:"Boolean",disableDoubleClickZoom:"Boolean",draggable:"Boolean",draggableCursor:"String",draggingCursor:"String",heading:"Number",keyboardShortcuts:"Boolean",mapMaker:"Boolean",mapTypeControl:"Boolean",mapTypeControlOptions:"google.maps.MapTypeControlOptions",mapTypeId:"google.maps.MapTypeId",maxZoom:"Number",minZoom:"Number",noClear:"Boolean",overviewMapControl:"Boolean",overviewMapControlOptions:"google.maps.OverviewMapControlOptions",panControl:"Boolean",panControlOptions:"google.maps.PanControlOptions",rotateControl:"Boolean",rotateControlOptions:"google.maps.RotateControlOptions",scaleControl:"Boolean",scaleControlOptions:"google.maps.ScaleControlOptions",scrollwheel:"Boolean",streetView:"google.maps.StreetViewPanorama",streetViewControl:"Boolean",streetViewControlOptions:"google.maps.StreetViewControlOptions",styles:"google.maps.MapTypeStyle",tilt:"Number",zoom:"Number",zoomControl:"Boolean",zoomControlOptions:"google.maps.ZoomControlOptions"},c=null,h={keepSpiderfied:!0},m={IsNotJson:"Die angegebene Variable ist keine JSON!",MissingMapDataProperty:"Dem MapData-Object fehlen die benötigten Eigenschaften!",MissingMapCanvas:"Es wird ein Map-Canvas benötigt!",MissingMap:"Fehlende GoogleMaps Instanz!"};return u.initGoogleMaps=function(e,t){if(u.getMapOptions(),n(r).data("map-initialized")&&!0===n(r).data("map-initialized"))return this;if(!r)return console.log(m.MissingMapCanvas),this;for(var i in n(r).data("map-initialized",!0),g=new google.maps.Map(r,u.getMapOptions()),this.applyMapData(e,t),o)o.hasOwnProperty(i)&&o[i].setMap(g);return this},u.applyMapData=function(e,t){if(!g)return console.log(m.MissingMap),this;if(jQuery.isEmptyObject(f)||!f.points)return console.log(m.MissingMapDataProperty),this;t="boolean"!=typeof t||t;if(e="boolean"!=typeof e||e)var i=new google.maps.LatLngBounds;var n,r,o,a,s,l,p=!jQuery.isEmptyObject(f)&&f.points?Object.keys(f.points).length:0;t&&this.createOverlappingMarkerSpiderfier();for(var c=0;c<p;c++)s=parseFloat(f.points[c].lat),l=parseFloat(f.points[c].lng),isNaN(s)||isNaN(l)||(r=new google.maps.LatLng(s,l),n=f.points[c].title?f.points[c].title:"",o=f.points[c].icon?f.points[c].icon:null,this.addMarker(r,n,o),a=d.length-1,e&&i.extend(d[a].position),d[a].setMap(g));if(e&&0<d.length){g.fitBounds(i);var h=google.maps.event.addListener(g,"zoom_changed",function(){g.getZoom()>u.getMapOptions.zoom&&g.setZoom(u.getMapOptions.zoom),google.maps.event.removeListener(h)})}},u.closeInfoWindows=function(){0<l.length&&(l[0].set("marker",null),l[0].close(),l.length=0)},u.setMapOptions=function(e){return e&&u.convertDataType(e,i)&&(c=e),this},u.addMapOptions=function(e){return e&&u.convertDataType(e,i)&&jQuery.extend(u.getMapOptions,e),this},u.convertDataType=function(t,e){if(!e||"object"!=typeof t)return!1;var i=!0;for(var n in t)if(e[n]){var r,o=e[n].split(".");r=s[o[0]];for(var a=1;a<o.length;a++)r=r[o[a]];if(!(t[n]instanceof r||typeof t[n]===r)&&typeof t[n]!==r)try{t[n]=r(t[n])}catch(e){try{t[n]=new r}catch(e){console.log("Cannot convert "+t[n]+" to "+r),i=!1}}}return i},u.getMapOptions=function(){return typeof c!=google.maps&&(c={center:new google.maps.LatLng(51.06966,13.778158),zoom:8}),c},u.setMapData=function(t){if("array"===jQuery.type(t)||"object"===jQuery.type(t))f=t;else if("string"===jQuery.type(t))for(var e=!0;e;){try{f=jQuery.parseJSON(json)}catch(e){if(0!==jQuery(t).length){json=jQuery(t).val();continue}console.log(m.IsNotJson)}e=!1}return jQuery.isEmptyObject(f)||!f.points?console.log(m.MissingMapDataProperty):f.mapOptions&&this.addMapOptions(f.mapOptions),this},u.setMapCanvas=function(e){return r=jQuery(e).get(0),this},u.addLayers=function(e){if("object"==typeof e)for(var t in e)o[t]=new google.maps.KmlLayer({url:e[t],preserveViewport:!0});return this},u.removeLayer=function(e){return e&&o.key&&delete o.key,this},u.addMarker=function(e,t,i,n){if(!g)return console.log(m.MissingMap),this;var r,o=this;if(d.push(new google.maps.Marker({position:e,title:t,icon:i,map:g})),j=d.length-1,a&&a.addMarker(d[j]),!1!==n){n=n||f.points[j].windowContent;google.maps.event.addListener(d[j],"click",(r=j,function(){o.closeInfoWindows();var e=new google.maps.InfoWindow({content:n});e.open(g,d[r]),l[0]=e}))}return this},u.setAllMarkersMap=function(e){for(var t=d.length-1;0<=t;t--)d[t].setMap(e);return this},u.clearMarkers=function(){return this.setAllMarkersMap(null),this},u.deleteMarkers=function(){return this.clearMarkers(),d=[],this},u.showMarkers=function(){return g&&this.setAllMarkersMap(g),this},u.createOverlappingMarkerSpiderfier=function(){return s.initOverlappingMarkerSpiderfier(),g&&(a=new OverlappingMarkerSpiderfier(g,h)),this},u.getOMSOptions=function(){return h},u.drawPolyline=function(e,t,i){var n=[];t&&(f.routes[e]=jQuery.parseJSON(t));for(var r=jQuery.isEmptyObject(f)||jQuery.isEmptyObject(f.routes)||!f.routes[e]?0:Object.keys(f.routes[e]).length,o=0;o<r;o++)f.routes[e][o].lat&&f.routes[e][o].lng&&n.push(new google.maps.LatLng(parseFloat(f.routes[e][o].lat),parseFloat(f.routes[e][o].lng)));var a={path:n,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2};return i&&jQuery.extend(a,i),p[e]=new google.maps.Polyline(a),g&&p[e].setMap(g),this},u}(window,document,jQuery),XIMA.api.openlayers=function(e,t,a,i){var s={},l=[],p=function(i){var n=this;this.map=new ol.Map({target:i.target}),this.addLayer=function(e){n.map.addLayer(e)},this.initialize=function(){if(i.hasOwnProperty("baseLayerUrl")){var e=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:i.attribution||""})],tilePixelRatio:2,url:i.baseLayerUrl}),name:"baseLayer",title:"Base Layer"});n.map.addLayer(e)}if(i.hasOwnProperty("view")){jQuery.extend(i.view,{center:ol.proj.transform([i.view.lon,i.view.lat],"EPSG:4326","EPSG:3857"),zoom:i.view.zoom||7});var t=new ol.View(i.view);n.map.setView(t)}},this.initialize()};return{createMaps:function(e,t,i,n,r){var o;return o={baseLayerUrl:i,view:n,attribution:r},a((s={wrapper:e,map:t}).wrapper).each(function(){a(s.map,a(this)).each(function(){l.push(new p({target:a(this).get(0),baseLayerUrl:o.baseLayerUrl,view:o.view,attribution:o.attribution}))})}),l}}}(window,document,jQuery),XIMA.api.responsiveImages=function(l,e,p,t){var i={};function n(){p(i.wrapper).each(function(){var e=p(this),s={width:e.width()};p(i.image,e).each(function(){for(var e,t=p(this),i=/([^\s,]+)\s+(\d+)w/g,n=t.data("srcset"),r=[];null!==(e=i.exec(n));)r.push({src:e[1],width:parseInt(e[2])});r.sort(function(e,t){return e.width-t.width});for(var o=s.width*l.devicePixelRatio,a=0;a<r.length;a++){if(r[a].width>=o){t.attr("width",s.width),t.attr("src",r[a].src);break}a===r.length-1&&(t.attr("width",s.width),t.attr("src",r[a].src))}})})}return l.onresize=n,{run:function(e,t){i={wrapper:e||"body",image:t||"img"},n()},refresh:function(){n()}}}(window,document,jQuery);