var xima={api:{twitter:{bootstrap:function(){var a={msg:{NoDefaultAnchor:"Es wurde kein Standard-Anchor festgelegt!",NoFunctionTab:'Die Funktion "tab" ist nicht definiert! Wurde tab.js (Twitter Bootstrap JS-PlugIn) eingefügt?'}};this.selectTab=function(f,e){var b="";if(!f){console.log(a.msg.NoDefaultAnchor);return false}var e=e||"";var i=document.URL.split("?")[1];if(i){var h,c;var g=i.split("&");for(c in g){h=g[c].split("=");if(h[0]==="tab"){b=h[1]}}}b=(b==="")?f:b;var d=jQuery(e+' a[href="#'+b+'"][data-toggle="tab"]');if(!d.get(0)){d=jQuery(e+' a[href="#'+f+'"][data-toggle="tab"]')}if(typeof d.tab==="function"){d.tab("show");return true}else{console.log(a.msg.NoFunctionTab);return false}}}},googlemaps:function(){var c=null;var k=null;var g=null;var f=false;var h=[];var d=[];var e=[];var a={};var l={};var m={backgroundColor:"String",center:"google.maps.LatLng",disableDefaultUI:"Boolean",disableDoubleClickZoom:"Boolean",draggable:"Boolean",draggableCursor:"String",draggingCursor:"String",heading:"Number",keyboardShortcuts:"Boolean",mapMaker:"Boolean",mapTypeControl:"Boolean",mapTypeControlOptions:"google.maps.MapTypeControlOptions",mapTypeId:"google.maps.MapTypeId",maxZoom:"Number",minZoom:"Number",noClear:"Boolean",overviewMapControl:"Boolean",overviewMapControlOptions:"google.maps.OverviewMapControlOptions",panControl:"Boolean",panControlOptions:"google.maps.PanControlOptions",rotateControl:"Boolean",rotateControlOptions:"google.maps.RotateControlOptions",scaleControl:"Boolean",scaleControlOptions:"google.maps.ScaleControlOptions",scrollwheel:"Boolean",streetView:"google.maps.StreetViewPanorama",streetViewControl:"Boolean",streetViewControlOptions:"google.maps.StreetViewControlOptions",styles:"google.maps.MapTypeStyle",tilt:"Number",zoom:"Number",zoomControl:"Boolean",zoomControlOptions:"google.maps.ZoomControlOptions"};var b={center:new google.maps.LatLng(51.06966,13.778158),zoom:8};var n={keepSpiderfied:true};var i={msg:{IsNotJson:"Die angegebene Variable ist keine JSON!",MissingMapDataProperty:"Dem MapData-Object fehlen die benötigten Eigenschaften!",MissingMapCanvas:"Es wird ein Map-Canvas benötigt!",MissingMap:"Fehlende GoogleMaps Instanz!"}};this.initGoogleMaps=function(o){if(f===true){return this}if(!k){console.log(i.msg.MissingMapCanvas);return this}f=true;c=new google.maps.Map(k,b);this.applyMapData(o);for(var p in a){if(a.hasOwnProperty(p)){a[p].setMap(c)}}return this};this.applyMapData=function(p,q){if(!c){console.log(i.msg.MissingMap);return this}if(jQuery.isEmptyObject(l)||!l.points){console.log(i.msg.MissingMapDataProperty);return this}var p=(typeof p!=="boolean")?true:p;var q=(typeof q!=="boolean")?true:q;if(p){var o=new google.maps.LatLngBounds()}var w=(!jQuery.isEmptyObject(l)&&l.points)?Object.keys(l.points).length:0;var v=[];var x;var t;var y;var s;if(q){this.createOverlappingMarkerSpiderfier()}for(var u=0;u<w;u++){if(l.points[u].lat!==null||l.points[u].lng!==null){t=new google.maps.LatLng(parseFloat(l.points[u].lat),parseFloat(l.points[u].lng));x=(l.points[u].title)?l.points[u].title:"";y=(l.points[u].icon)?l.points[u].icon:null;this.addMarker(t,x,y);s=d.length-1;if(p){o.extend(d[s].position)}d[s].setMap(c)}}if(p&&d.length>0){c.fitBounds(o);var r=google.maps.event.addListener(c,"zoom_changed",function(){if(c.getZoom()>b.zoom){c.setZoom(b.zoom)}google.maps.event.removeListener(r)})}};this.closeInfoWindows=function(){if(h.length>0){h[0].set("marker",null);h[0].close();h.length=0}};this.setMapOptions=function(o){if(o){if(xima.api.functions.convertDataType(o,m)){b=o}}return this};this.addMapOptions=function(o){if(o){if(xima.api.functions.convertDataType(o,m)){jQuery.extend(b,o)}}return this};this.getMapOptions=function(){return b};this.setMapData=function(q,o){try{if(o==true){l=jQuery.parseJSON(q)}else{l=jQuery.parseJSON(jQuery(q).val())}}catch(p){console.log(i.msg.IsNotJson)}if(jQuery.isEmptyObject(l)||!l.points){console.log(i.msg.MissingMapDataProperty)}else{if(l.mapOptions){this.addMapOptions(l.mapOptions)}}return this};this.setMapCanvas=function(o){k=jQuery(o).get(0);return this};this.addLayers=function(o){if(typeof o==="object"){for(var p in o){a[p]=new google.maps.KmlLayer({url:o[p],preserveViewport:true})}}return this};this.removeLayer=function(o){if(o&&a.key){delete a.key}return this};this.addMarker=function(o,s,r,q){if(!c){console.log(i.msg.MissingMap);return this}var p=this;d.push(new google.maps.Marker({position:o,title:s,icon:r,map:c}));j=d.length-1;if(g){g.addMarker(d[j])}if(q!==false){var q=(q)?q:l.points[j].windowContent;google.maps.event.addListener(d[j],"click",function(t){return function(){p.closeInfoWindows();var u=new google.maps.InfoWindow({content:q});u.open(c,d[t]);h[0]=u}}(j))}return this};this.setAllMarkersMap=function(p){for(var o=d.length-1;o>=0;o--){d[o].setMap(p)}return this};this.clearMarkers=function(){this.setAllMarkersMap(null);return this};this.deleteMarkers=function(){this.clearMarkers();d=[];return this};this.showMarkers=function(){if(c){this.setAllMarkersMap(c)}return this};this.createOverlappingMarkerSpiderfier=function(){if(c){g=new OverlappingMarkerSpiderfier(c,n)}return this};this.getOMSOptions=function(){return n};this.drawPolyline=function(s,u,q){var t=[];if(u){l.routes[s]=jQuery.parseJSON(u)}var o=(!jQuery.isEmptyObject(l)&&!jQuery.isEmptyObject(l.routes)&&l.routes[s])?Object.keys(l.routes[s]).length:0;for(var r=0;r<o;r++){if(!l.routes[s][r].lat||!l.routes[s][r].lng){continue}t.push(new google.maps.LatLng(parseFloat(l.routes[s][r].lat),parseFloat(l.routes[s][r].lng)))}var p={path:t,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2};if(q){jQuery.extend(p,q)}e[s]=new google.maps.Polyline(p);if(c){e[s].setMap(c)}return this}},functions:{convertDataType:function(g,c){if(!c||typeof g!=="object"){return false}var k=true;for(var f in g){if(!c[f]){continue}var b=c[f].split(".");var d;d=window[b[0]];for(var a=1;a<b.length;a++){d=d[b[a]]}if(g[f] instanceof d||typeof g[f]===d){continue}if(typeof g[f]!==d){try{g[f]=d(g[f])}catch(h){try{g[f]=new d()}catch(h){console.log("Cannot convert "+g[f]+" to "+d);k=false}}}}return k}}}};